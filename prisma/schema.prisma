generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id       String   @id @default(uuid())
  name     String
  email    String   @unique
  password String
  contact  String
  Rifas    Raffle[]

  @@map("users")
}

model Raffle {
  id                       Int        @id @default(autoincrement())
  title                    String
  frontCover               String
  description              String
  User                     User?      @relation(fields: [userId], references: [id])
  userId                   String?
  Category                 Category[]
  place                    String
  term                     DateTime
  Quotas                   Quota[]
  price_quote              Int
  quota_payment_term       Int
  limit_participant_quota  Int
  support_contact          String
  group_link               String
  reservation_requirements String[]
  prizes                   String[]
  promotions               Json[]

  @@map("raffles")
}

model Category {
  id       Int      @id @default(autoincrement())
  category String
  Raffle   Raffle[]

  @@map("categories")
}

model Quota {
  id            Int     @id @default(autoincrement())
  quotas        BigInt
  buyer         String?
  contact_buyer String?
  email_buyer   String?
  Raffle        Raffle? @relation(fields: [raffleId], references: [id])
  raffleId      Int?

  @@map("quotas")
}
